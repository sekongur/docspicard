{"swagger":"2.0","info":{"description":"<p>Servicio REST para aceptar Transacciones utilizando la pasarela de pagos Picard</p><p>Este servicio dispone de dos componentes<ul><li>SDK de Cifrado</li><li>Servicio REST</li></ul></p><p><a target='_blank' href='./img/explicacion_sdk_es.png'><img src='./img/explicacion_sdk_es.png' width='90%'/></a></p><p><strong>SDK de Cifrado</strong><br/>Se debe instalar en el frontend de la aplicaci&oacute;n que desea integrarse con la pasarela de pagos Picard. Se detalla su funcionamiento en el apartado <a href='#tag/Cifrado'>Cifrado</a></p><p><strong>Servicio REST</strong><br/>Se trata de una serie de servicios web con tecnolog&iacute;a REST que se detallan en el resto de la documentaci&oacute;n</p><p>A continuaci&oacute;n se puede ver un diagrama de secuencia para entender mejor el funcionamiento completo</p><p><a href='./img/diagrama_secuencia_es.png' target='_blank'><img src='./img/diagrama_secuencia_es.png' width='90%'/></a></p>","version":"v1","title":"Picard API Service","contact":{"name":"Equipo Picard","url":"https://picard.globalia-corp.com/docs/api/es.html","email":"tesoreria.sistemas@globalia-corp.com"},"license":{"name":"Globalia Sistemas License"}},"host":"test.picard.globalia-corp.com","basePath":"/api","tags":[{"name":"Credenciales","description":"<p>Para hacer uso del webservice REST se requieren unas credenciales proporcionadas por el equipo de Picard</p><p>Estas credenciales se componen de:<br/><ul><li><b>Usuario</b></li><li><b>Contrase&ntilde;a</b></li><li><b>C&oacute;digo de integraci&oacute;n</b></li></ul></p><p>La autenticaci&oacute;n del webservice es de tipo http basic, por lo que deber&aacute; enviar la cabecera <i>Authorization</i> con el valor <i>Basic usuario:contrase&ntilde;a</i> donde el grupo usuario:contrase&ntilde;a debe estar en base64.</p><p>Por ejemplo, con el usuario TESTUSER y contrase&ntilde;a aaaaa, se debe enviar <i>Basic VEVTVFVTRVI6YWFhYWE=</i></p><p>El C&oacute;digo de integraci&oacute;n es un identificador &uacute;nico por cada sistema que conecta con Picard, se compone de un c&oacute;digo alfanum&eacute;rico de 3 caracteres en may&uacute;sculas. No se enviar&uacute; en la cabecera, sino que se usa en todos los m&eacute;todos del webservice</p>"},{"name":"Cifrado","description":"<p>La normativa de seguridad a la que est&aacute; sujeta la pasarela Picard (PCI-DSS) exige que ning&uacute;n sistema fuera de su &aacute;mbito tramite ni almacene datos de tarjetas de cr&eacute;dito, sin embargo, esto no aplica para datos cifrados con un algoritmo seguro.</p><p>Se pueden cifrar los datos de tarjetas en el navegador web cliente, o aplicaci&oacute;n m&oacute;vil con una clave p&uacute;blica, y a continuaci&oacute;n transmitir esa informaci&oacute;n cifrada al sistema que a su vez conecta con el webservice de Picard. Por otro lado, es importante que al finalizar de operar con una tarjeta, se elimine tambi&eacute;n el texto cifrado</p><p>El Equipo de Picard proporcionar&aacute; una clave de cifrado p&uacute;blica, la cual puede necesitar ser cambiada en caso de que se haya vulnerado su seguridad.</p><p>Con esta clave, se debe cifrar utilizando el algoritmo <i>RSA</i> un JSON que contiene toda la informaci&oacute;n relativa a la tarjeta de cr&eacute;dito, con el siguiente formato:<br/><pre>{<br/>    &quot;cardNumber&quot;: &quot;4200000000000000&quot;,<br/>    &quot;expiryDate&quot;: {<br/>        &quot;month&quot;: 12,<br/>        &quot;year&quot;: 2026<br/>    },<br/>    &quot;cvv&quot;: &quot;123&quot;,<br/>    &quot;cardholderName&quot;: &quot;Nombre del titular&quot;<br/>}</pre></p><p>Se disponen de ejemplos de uso del algoritmo RSA en Java, Javascript y Swift, a modo de SDKs para su uso desde aplicaciones Java, HTML o iOS, respectivamente, en el <a href='http://192.168.151.131/stash/projects/PI' target='_blank'>siguiente enlace</a></p>"},{"name":"Pagos y devoluciones","description":"A continuaci&oacute;n se detallan las funcionalidades para poder realizar pagos y devoluciones, as&iacute; como m&eacute;todos que permiten la consulta de un pago o devoluci&oacute;n anterior."},{"name":"Clientes almacenados","description":"Para poder almacenar tarjetas, se deben asociar a clientes, esta serie de m&eacute;todos se pueden utilizar para esta funcionalidad"},{"name":"Tarjetas almacenadas","description":"Se pueden almacenar tarjetas y asociarlas a clientes, de modo que se puedan repetir pagos en un futuro, sin necesidad de volver a solicitarle al cliente la introducci&oacute;n de la tarjeta."},{"name":"Scoring","description":"El sistema Picard no incorpora un sistema de scoring propio, debido a la complejidad de los datos de negocio, se traslada esta responsabilidad a la integraci&oacute;n. Sin embargo, s&iacute; que ofrece informaci&oacute;n adicional relativa al emisor de la tarjeta o la IP del cliente, que puede ser de utilidad para realizar un scoring. "},{"name":"Bin","description":"La consulta de bines nos devuelve informaci&oacute;n &uacute;til sobre un bin o una tarjeta tales como el pa&iacute;s de emisi&oacute;n de la tarjeta, el banco emisor o el tipo de tarjeta."},{"name":"Entornos","description":"<p>A continuaci&oacute;n se muestran los endpoints por cada entorno</p><table><thead><tr><th>URL</th><th>Entorno</th></tr></thead><tbody><tr><td>http://test.picard.globalia-corp.com/api/v1/*</td><td>Pruebas</td></tr><tr><td>https://picard.globalia-corp.com/api/v1/*</td><td>Producci&oacute;n</td></tr></tbody></table>"},{"name":"Tarjetas de pruebas","description":"<p>Se pueden utilizar estas tarjetas para realizar pruebas en el entorno de test</p><table><thead><tr><th>Tarjeta</th><th>Caducidad</th><th>CVV</th><th>Comentarios</th></tr></thead><tbody><tr><td>4918460190000629</td><td>12/2029</td><td>123</td><td>Siempre devuelve resultado OK</td></tr><tr><td>4444333322221111</td><td>12/2029</td><td>123</td><td>Siempre devuelve resultado KO</td></tr></tbody></table>"},{"name":"Codigos de error","description":"<p>A continuaci&oacute;n se incluyen todos los c&oacute;digos de error que devuelve el webservice, para su referencia.</p><p>N&oacute;tese que siempre que se incluye un error, se muestra tambi&eacute;n un campo llamado <i>originator</i>. Este campo es una ayuda que sirve para conocer d&oacute;nde se encuentra el problema, si es a causa de alg&uacute;n par&aacute;metro mal introducido por la integraci&oacute;n, si es un error en Picard, o si es a causa de una de las pasarelas de pago que utiliza Picard para realizar los cargos.</p><p>A continuaci&oacute;n el listado de errores.<br/><table><thead><tr><th>C&oacute;digo</th><th>Descripci&oacute;n</th></tr></thead><tbody><tr><td>INVALID_CUSTOMERTYPE</td><td>Tipo de cliente inv&aacute;lido</td></tr><tr><td>HASH_NOTEXISTS</td><td>El c&oacute;digo Hash de la tarjeta no existe</td></tr><tr><td>CUSTOMER_HAS_NO_CARDS</td><td>El cliente no tiene tarjetas</td></tr><tr><td>NO_CUSTOMERS_FOUND</td><td>No se han encontrado clientes</td></tr><tr><td>CUSTOMER_NOT_FOUND</td><td>No se ha encontrado el cliente</td></tr><tr><td>INVALID_INTEGRATION</td><td>El c&oacute;digo de integraci&oacute;n es inv&aacute;lido</td></tr><tr><td>TOKENIZEDCVV_INVALID</td><td>El token para el CVV es inv&aacute;lido</td></tr><tr><td>TOKENIZEDCVV_NOT_FOUND</td><td>No se ha encontrado el token para el CVV</td></tr><tr><td>INVALID_DATE_FORMAT</td><td>La fecha tiene un formato inv&aacute;lido</td></tr><tr><td>INTEGRATION_HAS_NO_CUSTOMERS</td><td>La integraci&oacute;n no tiene clientes</td></tr><tr><td>CARD_ALREADY_EXISTS</td><td>La tarjeta ya existe</td></tr><tr><td>CUSTOMER_ALREADY_EXISTS</td><td>El cliente ya existe</td></tr><tr><td>CUSTOMER_IS_DELETED</td><td>Se ha eliminado el cliente</td></tr><tr><td>HASH_ALREADY_DELETED</td><td>La tarjeta no existe o ha sido eliminada anteriormente</td></tr><tr><td>CUSTOMER_ALREADY_DELETED</td><td>El cliente no existe o ha sido eliminado anteriormente</td></tr><tr><td>INVALID_TOKEN</td><td>Token inv&aacute;lido</td></tr><tr><td>INVALID_CARD_NUMBER</td><td>N&uacute;mero de tarjeta inv&aacute;lido</td></tr><tr><td>INVALID_CARD_TYPE</td><td>Tipo de tarjeta inv&aacute;lido</td></tr><tr><td>INVALID_CLASSCARD_TYPE</td><td>Clase de tarjeta inv&aacute;lida</td></tr><tr><td>INVALID_BIN_TYPE</td><td>Tipo de Bin inv&aacute;lido</td></tr><tr><td>BIN_NOTFOUND</td><td>No se ha encontrado el bin</td></tr><tr><td>TRADEMARK_NOTFOUND</td><td>No se ha encontrado la marca del Bin</td></tr><tr><td>INVALID_DATE_FORMAT</td><td>La fecha tiene un formato inv&aacute;lido</td></tr><tr><td>UNABLE_LOAD_PROPERTIES</td><td>No se ha podido recuperar la configuraci&oacute;n de la aplicaci&oacute;n</td></tr><tr><td>INVALID_CURRENCY_CODE</td><td>C&oacute;digo de divisa inv&aacute;lido</td></tr><tr><td>INVALID_CURRENCY_NUMBER</td><td>N&uacute;mero de divisa inv&aacute;lido</td></tr><tr><td>INVALID_ENVIRONMENT_VARIABLE</td><td>Variable de entorno inv&aacute;lida</td></tr><tr><td>INTEGRATION_NOTFOUND</td><td>No se ha encontrado la integraci&oacute;n</td></tr><tr><td>INTEGRATION_ROUTE_NOTFOUND</td><td>No se han encontrado enrutamientos para la integraci&oacute;n</td></tr><tr><td>INTEGRATION_GRANTS_NOTFOUND</td><td>No se han entontrado integraciones con permisos sobre la integraci&oacute;n actual</td></tr><tr><td>INTEGRATION_ROUTE_REQUEST_NOTFOUND</td><td>No se ha encontrado la petici&oacute;n de la integraci&oacute;n</td></tr><tr><td>AMOUNT_OVER_LIMIT</td><td>El importe est&aacute; sobre el l&iacute;mite permitido</td></tr><tr><td>INVALID_REFERENCE</td><td>La referencia es inv&aacute;lida</td></tr><tr><td>PAYMENT_NOT_FOUND</td><td>No se ha encontrado el pago</td></tr><tr><td>PAYMENT_DUPLICATED</td><td>El pago est&aacute; duplicado</td></tr><tr><td>REFUND_NOT_FOUND</td><td>No se ha encontrado la devoluci&oacute;n</td></tr><tr><td>ERROR_EXECUTING_PAYMENT</td><td>Error ejecutando pago</td></tr><tr><td>ERROR_EXECUTING_REFUND</td><td>Error ejecutando devoluci&oacute;n</td></tr><tr><td>AIRLINE_DUPLICATED</td><td>Datos airline duplicados</td></tr><tr><td>AIRLINE_NOT_FOUND</td><td>No se han encontrado los datos airline</td></tr><tr><td>AIRLINE_NULL</td><td>Los datos airline est&aacute;n vac&iacute;os</td></tr><tr><td>AIRLINE_CODE_NULL</td><td>El c&oacute;digo de los datos airline es nulo</td></tr><tr><td>EMD_DUPLICATED</td><td>EMD duplicado</td></tr><tr><td>EMD_NOT_FOUND</td><td>No se ha encontrado el EMD</td></tr><tr><td>EMD_NULL</td><td>El EMD est&aacute; vac&iacute;o</td></tr><tr><td>EMD_CODE_NULL</td><td>El c&oacute;digo de EMD es nulo</td></tr><tr><td>CUSTOMER_DUPLICATED</td><td>Cliente duplicado</td></tr><tr><td>CUSTOMER_NOT_FOUND</td><td>No se ha encontrado el cliente</td></tr><tr><td>CUSTOMER_NULL</td><td>Los datos del cliente est&aacute;n vac&iacute;os</td></tr><tr><td>CUSTOMER_CODE_NULL</td><td>El c&oacute;digo del cliente es nulo</td></tr><tr><td>ENHANCEDDATA_NULL</td><td>Los datos adicionales est&aacute;n vac&iacute;os</td></tr><tr><td>SOCIETY_DUPLICATED</td><td>La sociedad est&aacute; duplicada</td></tr><tr><td>SOCIETY_NOT_FOUND</td><td>No se ha encontrado la sociedad</td></tr><tr><td>SOCIETY_NULL</td><td>La sociedad est&aacute; vac&iacute;a</td></tr><tr><td>SOCIETY_FIELD_MANDATORY</td><td>El campo sociedad es obligatorio</td></tr><tr><td>CENTER_DUPLICATED</td><td>El centro est&aacute; duplicado</td></tr><tr><td>CENTER_NOT_FOUND</td><td>No se ha encontrado el centro</td></tr><tr><td>CENTER_NULL</td><td>El centro est&aacute; vac&iacute;o</td></tr><tr><td>CENTER_CODE_NULL</td><td>El c&oacute;digo de centro es nulo</td></tr><tr><td>CENTER_FIELD_MANDATORY</td><td>El campo centro es obligatorio</td></tr><tr><td>CURRENCY_INVALID_CODE</td><td>C&oacute;digo de divisa inv&aacute;lido</td></tr><tr><td>CURRENCY_INVALID_NUMBER</td><td>N&uacute;mero de divisa inv&aacute;lido</td></tr><tr><td>CREDENTIALSAMEX_NOTFOUND</td><td>No se han encontrado credenciales para la conexi&oacute;n con American Express</td></tr><tr><td>USER_DUPLICATED</td><td>El usuario est&aacute; duplicado</td></tr><tr><td>USER_NOT_FOUND</td><td>No se ha encontrado el usuario</td></tr><tr><td>INVALID_PASSWORD</td><td>El usuario o contrase&ntilde;a es inv&aacute;lido</td></tr><tr><td>CANNOT_GENERATE_PASSWORD</td><td>No se ha podido generar una contrase&ntilde;a</td></tr><tr><td>CARD_NOT_PROVIDED</td><td>No se ha proporcionado una tarjeta</td></tr><tr><td>CUSTOMER_NOT_PROVIDED</td><td>No se ha proporcionado un cliente</td></tr><tr><td>PAYMENT_SUCCESSFUL</td><td>El pago se ha realizado correctamente</td></tr><tr><td>PAYMENT_ERROR</td><td>Se ha producido un error en el pago</td></tr><tr><td>UNEXPECTED_ERROR</td><td>Error inesperado</td></tr><tr><td>PARAMETER_VALIDATION_ERROR</td><td>Se ha producido un error en la validaci&oacute;n de alguno de los par&aacute;metros</td></tr><tr><td>PAYMENT_FOUND</td><td>Se ha encontrado el pago</td></tr><tr><td>REFUND_SUCCESSFUL</td><td>La devoluci&oacute;n se ha realizado correctamente</td></tr><tr><td>REFUND_ERROR</td><td>Se ha producido un error en la devoluci&oacute;n</td></tr><tr><td>REFUND_FOUND</td><td>Se ha encontrado la devoluci&oacute;n</td></tr><tr><td>STOREDCARD_CREATED</td><td>Se ha creado la tarjeta almacenada</td></tr><tr><td>STOREDCARD_UPDATED</td><td>Se ha actualizado la tarjeta almacenada</td></tr><tr><td>STOREDCARD_DELETED</td><td>Se ha borrado la tarjeta almacenada</td></tr><tr><td>STOREDCARD_FOUND</td><td>Se ha encontrado la tarjeta almacenada</td></tr><tr><td>STOREDCUSTOMER_CREATED</td><<td>Se ha creado el cliente almacenado</td></tr><tr><td>STOREDCUSTOMER_UPDATED</td><td>Se ha actualizado el cliente almacenado</td></tr><tr><td>STOREDCUSTOMER_DELETED</td><td>Se ha borrado el cliente almacenado</td></tr><tr><td>STOREDCUSTOMER_FOUND</td><td>Se ha encontrado el cliente almacenado</td></tr><tr><td>SCORING_SUCCESSFUL</td><td>Se han recuperado los datos de scoring</td></tr><tr><td>BIN_FOUND</td><td>Bin encontrado</td></tr><tr><td>CARD_OR_BIN_MANDATORY</td><td>Se debe especificar un n&uacute;mero de tarjeta o un bin</td></tr><tr><td>ERROR_PARSING_PUBLIC_KEY</td><td>Error al parsear la clave p&uacute;blica</td></tr><tr><td>ERROR_PARSING_PRIVATE_KEY</td><td>Error al parsear la clave privada</td></tr><tr><td>ERROR_GENERATING_ENCRYPTION_KEY</td><td>Error al generar una clave de cifrado</td></tr><tr><td>NO_PUBLIC_KEYS_FOUND</td><td>No se han encontrado claves de cifrado</td></tr><tr><td>ERROR_DECRYPTING</td><td>Error al desencriptar</td></tr><tr><td>ERROR_ENCRYPTING</td><td>Error al encriptar</td></tr><tr><td>UNABLE_TO_DECRYPT_DATA</td><td>No se ha podido desencriptar la informaci&oacute;n</td></tr></tbody></table></p>"}],"paths":{"/{version}/bin":{"post":{"tags":["Bin"],"summary":"Informacion de Tarjeta","operationId":"Informacion de Tarjeta","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"in":"body","name":"binRequest","description":"binRequest","required":true,"schema":{"$ref":"#/definitions/BinRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardBinResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/payment":{"post":{"tags":["Pagos y devoluciones"],"summary":"Crear Pago","operationId":"Crear Pago","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"in":"body","name":"createPaymentRequest","description":"createPaymentRequest","required":true,"schema":{"$ref":"#/definitions/CreatePaymentRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardTransactionResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/payment/{integrationCode}/{picardTransactionCode}":{"get":{"tags":["Pagos y devoluciones"],"summary":"Recuperar Pago","operationId":"Recuperar Pago","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"picardTransactionCode","in":"path","description":"picardTransactionCode","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardTransactionResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/payment/{integrationCode}/{picardTransactionCode}/{integrationTransactionCode}/refund":{"post":{"tags":["Pagos y devoluciones"],"summary":"Crear Devolucion","operationId":"Crear Devolucion","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"picardTransactionCode","in":"path","description":"picardTransactionCode","required":true,"type":"integer","format":"int32"},{"name":"integrationTransactionCode","in":"path","description":"integrationTransactionCode","required":true,"type":"string"},{"in":"body","name":"createRefundRequest","description":"createRefundRequest","required":true,"schema":{"$ref":"#/definitions/CreateRefundRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardTransactionResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/refund/{integrationCode}/{picardTransactionCode}":{"get":{"tags":["Pagos y devoluciones"],"summary":"Recuperar Devolucion","operationId":"Recuperar Devolucion","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"picardTransactionCode","in":"path","description":"picardTransactionCode","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardTransactionResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/scoring":{"post":{"tags":["Scoring"],"summary":"Recuperar datos de Scoring","operationId":"Recuperar datos de Scoring","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"in":"body","name":"scoringDataRequest","description":"scoringDataRequest","required":true,"schema":{"$ref":"#/definitions/ScoringDataRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardScoringResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/storedcard":{"post":{"tags":["Tarjetas almacenadas"],"summary":"Crear tarjeta almacenada","operationId":"Crear tarjeta almacenada","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"in":"body","name":"createStoredCardRequest","description":"createStoredCardRequest","required":true,"schema":{"$ref":"#/definitions/CreateStoredCardRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCardResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/storedcard/{integrationCode}/{customerCode}/{cardHash}":{"get":{"tags":["Tarjetas almacenadas"],"summary":"Recuperar tarjeta almacenada","operationId":"Recuperar tarjeta almacenada","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"customerCode","in":"path","description":"customerCode","required":true,"type":"string"},{"name":"cardHash","in":"path","description":"cardHash","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCardResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["Tarjetas almacenadas"],"summary":"Actualizar tarjeta almacenada","operationId":"Actualizar tarjeta almacenada","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"customerCode","in":"path","description":"customerCode","required":true,"type":"string"},{"name":"cardHash","in":"path","description":"cardHash","required":true,"type":"string"},{"in":"body","name":"updateStoredCardRequest","description":"updateStoredCardRequest","required":true,"schema":{"$ref":"#/definitions/UpdateStoredCardRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCardResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Tarjetas almacenadas"],"summary":"Eliminar tarjeta almacenada","operationId":"Eliminar tarjeta almacenada","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"customerCode","in":"path","description":"customerCode","required":true,"type":"string"},{"name":"cardHash","in":"path","description":"cardHash","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCardResponse"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/{version}/storedcustomer":{"post":{"tags":["Clientes almacenados"],"summary":"Crear cliente almacenado","operationId":"Crear cliente almacenado","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"in":"body","name":"createStoredCustomerRequest","description":"createStoredCustomerRequest","required":true,"schema":{"$ref":"#/definitions/CreateStoredCustomerRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCustomerResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/{version}/storedcustomer/{integrationCode}/{customerCode}":{"get":{"tags":["Clientes almacenados"],"summary":"Recuperar cliente almacenado","operationId":"Recuperar cliente almacenado","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"customerCode","in":"path","description":"customerCode","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCustomerResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["Clientes almacenados"],"summary":"Actualizar cliente almacenado","operationId":"Actualizar cliente almacenado","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"version","in":"path","description":"version","required":true,"type":"string","enum":["v1"]},{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"customerCode","in":"path","description":"customerCode","required":true,"type":"string"},{"in":"body","name":"updateStoredCustomerRequest","description":"updateStoredCustomerRequest","required":true,"schema":{"$ref":"#/definitions/UpdateStoredCustomerRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCustomerResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Clientes almacenados"],"summary":"Eliminar cliente almacenado","operationId":"Eliminar cliente almacenado","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"integrationCode","in":"path","description":"integrationCode","required":true,"type":"string"},{"name":"customerCode","in":"path","description":"customerCode","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PicardStoredCustomerResponse"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}}},"definitions":{"BinRequest":{"type":"object","required":["bin","encryptedCardNumber","lengthCardNumber"],"properties":{"bin":{"type":"string","description":"Bin de una tarjeta sobre el que se solicita la informaci&oacute;n"},"encryptedCardNumber":{"type":"string","description":"N&uacute;mero de tarjeta encriptado con el algoritmo RSA y la clave p&uacute;blica proporcionada por el equipo de Picard"},"lengthCardNumber":{"type":"integer","format":"int32","description":"Longitud de la tarjeta asociada al bin indicado"}}},"BinResponse":{"type":"object","properties":{"bankName":{"type":"string","description":"Nombre del banco"},"binTypeCode":{"type":"string","enum":["CREDITCARD","DEBITCARD","INTERNATIONAL"]},"cardType":{"type":"string","description":"Tipo de tarjeta","enum":["CREDITCARD","DEBITCARD","INTERNATIONAL"]},"country":{"description":"C&oacute;digo de pa&iacute;s","$ref":"#/definitions/CountryResponse"},"customCardType":{"type":"string","description":"Tipo de tarjeta para usarlo en asuntos de Globalia"},"maxLength":{"type":"integer","format":"int32","description":"Longitud m&aacute;xima de la tarjeta"},"minLength":{"type":"integer","format":"int32","description":"Longitud m&iacute;nima de la tarjeta"},"productTypeCode":{"type":"string","description":"Tipo de producto","enum":["CONSUMER","BUSINESS"]},"rangeEnd":{"type":"string","description":"Rango mayor del bin"},"rangeStart":{"type":"string","description":"Rango menor del bin"}}},"CardDetailsResponse":{"type":"object","required":["cardHash","expiryDate","maskedCardNumber"],"properties":{"cardHash":{"type":"string","description":"C&oacute;digo hash &uacute;nico para cada tarjeta de cr&eacute;dito"},"expiryDate":{"description":"Fecha de caducidad usada en la transacci&oacute;n","$ref":"#/definitions/ExpiryDate"},"maskedCardNumber":{"type":"string","description":"Tarjeta de cr&eacute;dito enmascarada con el formato ######******####"}}},"CardResponse":{"type":"object","required":["cardHash","country","maskedCardNumber"],"properties":{"cardHash":{"type":"string","description":"Hash de la tarjeta"},"country":{"description":"Datos del pa&iacute;s de la tarjeta","$ref":"#/definitions/CountryResponse"},"maskedCardNumber":{"type":"string","description":"N&uacute;mero de tarjeta enmascarada"}}},"CountryResponse":{"type":"object","required":["countryCode","countryName","countryNumber"],"properties":{"countryCode":{"type":"string","description":"C&oacute;digo ISO 3166-1 de 2 letras del pa&iacute;s o territorio"},"countryName":{"type":"string","description":"Nombre del pa&iacute;s o territorio"},"countryNumber":{"type":"string","description":"C&oacute;digo ISO 3166-1 num&oecute;rico del pa&iacute;s o territorio"}}},"CreatePaymentRequest":{"type":"object","required":["amount","currency","integrationCode","integrationTransactionCode","transactionEnvironment"],"properties":{"agentCode":{"type":"string","description":"En agencias donde un operador realiza la transacci&oacute;n, puede ser especificado su n&uacute;mero de personal para tracear incidencias"},"amount":{"type":"number","description":"Importe de la transacci&oacute;n, en las devoluciones puede ser inferior al importe original"},"cardHash":{"type":"string","description":"C&oacute;digo hash de la tarjeta para utilizar la tarjeta almacenada"},"centerCode":{"type":"string","description":"C&oacute;digo de centro o agencia para identificar el lugar en el que se ha hecho la transacci&oacute;n, ser&aacute; proporcionado por el equipo de Tesorer&iacute;a"},"currency":{"type":"string","description":"Divisa en la que se debe realizar el pago"},"customerCode":{"type":"string","description":"C&oacute;digo de cliente para usar con las tarjetas almacenadas"},"customerIpAddress":{"type":"string","description":"Direcci&oacute;n IP del cliente para prevenir fraude y revisi&oacute;n de incidencias"},"customerLanguageCode":{"type":"string","description":"C&oacute;digo de idioma en ISO 639-1 que se utilizar&aacute; para devolver la descripci&oacute;n de los errores"},"encryptedCardDetails":{"type":"string","description":"Detalles de la tarjeta encriptados en con el algoritmo RSA y la clave p&uacute;blica proporcionada por el equipo de Picard"},"enhancedData":{"type":"array","description":"Informaci&oacute;n adicional sobre el pagador o la reserva, por favor pregunte al equipo de Picard si debe rellenar esta informaci&oacute;n","items":{"$ref":"#/definitions/EnhancedData"}},"installmentCode":{"type":"string","description":"C&oacute;digo de pago aplazado proporcionados por el equipo de Picard para dividir los pagos en mensualidades"},"integrationCode":{"type":"string","description":"C&oacute;digo de integraci&oacute;n proporcionado por el equipo de Tesorer&iacute;a"},"integrationTransactionCode":{"type":"string","description":"C&oacute;digo de transacci&oacute;n proporcionado por la integraci&oacute;n, debe ser &uacute;nico en cada pago finalizado, y se debe compartir con la devoluci&oacute;n"},"reference":{"type":"string","description":"Referencia del pago, si no se proporciona, Picard puede generarla autom&aacute;ticamente, pero s&oacute;lo para integraciones que se han configurado de esta manera"},"transactionEnvironment":{"type":"string","description":"Proporciona a Picard informaci&oacute;n sobre c&oacute;mo la integraci&oacute;n usa la pasarela de pagos","enum":["WEB","AGENCY","PRESENTIAL","CALLCENTER"]}}},"CreateRefundRequest":{"type":"object","required":["amount"],"properties":{"agentCode":{"type":"string","description":"En agencias donde un operador realiza la transacci&oacute;n, puede ser especificado su n&uacute;mero de personal para tracear incidencias"},"amount":{"type":"number","description":"Importe de la transacci&oacute;n, en las devoluciones puede ser inferior al importe original"},"cardHash":{"type":"string","description":"C&oacute;digo hash de la tarjeta para utilizar la tarjeta almacenada"},"centerCode":{"type":"string","description":"C&oacute;digo de centro o agencia para identificar el lugar en el que se ha hecho la transacci&oacute;n, ser&aacute; proporcionado por el equipo de Tesorer&iacute;a"},"comment":{"type":"string","description":"Comentarios sobre la causa de la devoluci&oacute;n, para informar al equipo de Tesorer&iacute;a"},"customerCode":{"type":"string","description":"C&oacute;digo de cliente para usar con las tarjetas almacenadas"},"customerIpAddress":{"type":"string","description":"Direcci&oacute;n IP del cliente para prevenir fraude y revisi&oacute;n de incidencias"},"customerLanguageCode":{"type":"string","description":"C&oacute;digo de idioma en ISO 639-1 que se utilizar&aacute; para devolver la descripci&oacute;n de los errores"},"encryptedCardDetails":{"type":"string","description":"Detalles de la tarjeta encriptados en con el algoritmo RSA y la clave p&uacute;blica proporcionada por el equipo de Picard"},"expiryDate":{"description":"Si se especifica, la tarjeta de cr&eacute;dito se obtendr&aacute; del pago original, pero se utilizar&aacute; esta caducidad, para el caso de que haya cambiado entre la fecha de la venta y la devoluci&oacute;n","$ref":"#/definitions/ExpiryDate"}}},"CreateStoredCardRequest":{"type":"object","required":["customerCode","encryptedCardDetails","integrationCode"],"properties":{"alias":{"type":"string","description":"Texto para facilitar al cliente reconocer la tarjeta"},"customerCode":{"type":"string","description":"C&oacute;digo de cliente al que se asociar&aacute; la tarjeta almacenada"},"encryptedCardDetails":{"type":"string","description":"Detalles de la tarjeta encriptados en con el algoritmo RSA y la clave p&uacute;blica proporcionada por el equipo de Picard"},"integrationCode":{"type":"string","description":"C&oacute;digo de integraci&oacute;n proporcionado por el equipo de Tesorer&iacute;a"}}},"CreateStoredCustomerRequest":{"type":"object","required":["customerCode","integrationCode","manualInput","name","type"],"properties":{"customerCode":{"type":"string","description":"C&oacute;digo de cliente al que se asociar&aacute; la tarjeta almacenada"},"integrationCode":{"type":"string","description":"C&oacute;digo de integraci&oacute;n proporcionado por el equipo de Tesorer&iacute;a"},"manualInput":{"type":"boolean","example":false,"description":"Indica si el cliente almacenado debe permitir la introducci&oacute;n manual de tarjetas"},"name":{"type":"string","description":"Nombre del cliente almacenado"},"type":{"type":"string","description":"Tipo de cliente almacenado","enum":["BUSINESS","FINAL"]}}},"DebtSummaryResponse":{"type":"object","required":["debtsFrauds","debtsNotFrauds"],"properties":{"debtsFrauds":{"type":"integer","description":"N&uacute;mero de operaciones que no han sido fraude"},"debtsNotFrauds":{"type":"integer","description":"N&uacute;mero de operaciones que han sido fraude"}}},"EnhancedData":{"type":"object"},"ExpiryDate":{"type":"object","properties":{"month":{"type":"integer","format":"int32"},"year":{"type":"integer","format":"int32"}}},"LinkRelated":{"type":"object","required":["href","method","rel"],"properties":{"href":{"type":"string","description":"URL para recuperar el objeto relacionado"},"method":{"type":"string","description":"M&eacute;todo HTTP que se debe utilizar","enum":["GET","HEAD","POST","PUT","PATCH","DELETE","OPTIONS","TRACE"]},"rel":{"type":"string","description":"Relaci&oacute;n entre el objeto devuelto y el objeto que se obtendr&aacute; con este enlace"}}},"PicardBinResponse":{"type":"object","properties":{"bin":{"description":"Toda la informaci&ocute;n del bin de una tarjeta/bin solicitado","$ref":"#/definitions/BinResponse"},"errorOriginator":{"type":"string","description":"Indica qui&eacute;n ha originado el error, si es INTEGRATION por favor revise los par&aacute;metros de entrada, si es PICARD por favor pregunte al equipo de Picard, si es GATEWAY pregunte al equipo de Tesorer&iacute;a","enum":["INTEGRATION","GATEWAY","PICARD"]},"links":{"type":"array","description":"Enlaces para realizar acciones adicionales sobre el resultado de la llamada al servicio","items":{"$ref":"#/definitions/LinkRelated"}},"result":{"type":"string","description":"C&oacute;digo de resultado detallado con la informaci&oacute;n en caso de error"},"resultDescription":{"type":"string","description":"Descripci&oacute;n del resultado"},"sessionId":{"type":"string","description":"C&oacute;digo de sesi&oacute;n para ayudar al equipo de Picard encontrar alguna incidencia"},"trademark":{"type":"string","description":"null"},"validationErrors":{"type":"array","description":"Listado de errores si hay alg&uacute;n valor que no tiene un formato correcto","items":{"$ref":"#/definitions/ValidationError"}}}},"PicardScoringResponse":{"type":"object","properties":{"errorOriginator":{"type":"string","description":"Indica qui&eacute;n ha originado el error, si es INTEGRATION por favor revise los par&aacute;metros de entrada, si es PICARD por favor pregunte al equipo de Picard, si es GATEWAY pregunte al equipo de Tesorer&iacute;a","enum":["INTEGRATION","GATEWAY","PICARD"]},"links":{"type":"array","description":"Enlaces para realizar acciones adicionales sobre el resultado de la llamada al servicio","items":{"$ref":"#/definitions/LinkRelated"}},"result":{"type":"string","description":"C&oacute;digo de resultado detallado con la informaci&oacute;n en caso de error"},"resultDescription":{"type":"string","description":"Descripci&oacute;n del resultado"},"scoringData":{"description":"Toda la informaci&ocute;n de datos de scoring","$ref":"#/definitions/ScoringDataResponse"},"sessionId":{"type":"string","description":"C&oacute;digo de sesi&oacute;n para ayudar al equipo de Picard encontrar alguna incidencia"},"validationErrors":{"type":"array","description":"Listado de errores si hay alg&uacute;n valor que no tiene un formato correcto","items":{"$ref":"#/definitions/ValidationError"}}}},"PicardStoredCardResponse":{"type":"object","properties":{"errorOriginator":{"type":"string","description":"Indica qui&eacute;n ha originado el error, si es INTEGRATION por favor revise los par&aacute;metros de entrada, si es PICARD por favor pregunte al equipo de Picard, si es GATEWAY pregunte al equipo de Tesorer&iacute;a","enum":["INTEGRATION","GATEWAY","PICARD"]},"links":{"type":"array","description":"Enlaces para realizar acciones adicionales sobre el resultado de la llamada al servicio","items":{"$ref":"#/definitions/LinkRelated"}},"result":{"type":"string","description":"C&oacute;digo de resultado detallado con la informaci&oacute;n en caso de error"},"resultDescription":{"type":"string","description":"Descripci&oacute;n del resultado"},"sessionId":{"type":"string","description":"C&oacute;digo de sesi&oacute;n para ayudar al equipo de Picard encontrar alguna incidencia"},"storedCard":{"description":"Tarjeta almacenada resultante","$ref":"#/definitions/StoredCardResponse"},"validationErrors":{"type":"array","description":"Listado de errores si hay alg&uacute;n valor que no tiene un formato correcto","items":{"$ref":"#/definitions/ValidationError"}}}},"PicardStoredCustomerResponse":{"type":"object","properties":{"errorOriginator":{"type":"string","description":"Indica qui&eacute;n ha originado el error, si es INTEGRATION por favor revise los par&aacute;metros de entrada, si es PICARD por favor pregunte al equipo de Picard, si es GATEWAY pregunte al equipo de Tesorer&iacute;a","enum":["INTEGRATION","GATEWAY","PICARD"]},"links":{"type":"array","description":"Enlaces para realizar acciones adicionales sobre el resultado de la llamada al servicio","items":{"$ref":"#/definitions/LinkRelated"}},"result":{"type":"string","description":"C&oacute;digo de resultado detallado con la informaci&oacute;n en caso de error"},"resultDescription":{"type":"string","description":"Descripci&oacute;n del resultado"},"sessionId":{"type":"string","description":"C&oacute;digo de sesi&oacute;n para ayudar al equipo de Picard encontrar alguna incidencia"},"storedCustomer":{"description":"Cliente almacenado resultante","$ref":"#/definitions/StoredCustomerResponse"},"validationErrors":{"type":"array","description":"Listado de errores si hay alg&uacute;n valor que no tiene un formato correcto","items":{"$ref":"#/definitions/ValidationError"}}}},"PicardTransactionResponse":{"type":"object","properties":{"errorOriginator":{"type":"string","description":"Indica qui&eacute;n ha originado el error, si es INTEGRATION por favor revise los par&aacute;metros de entrada, si es PICARD por favor pregunte al equipo de Picard, si es GATEWAY pregunte al equipo de Tesorer&iacute;a","enum":["INTEGRATION","GATEWAY","PICARD"]},"links":{"type":"array","description":"Enlaces para realizar acciones adicionales sobre el resultado de la llamada al servicio","items":{"$ref":"#/definitions/LinkRelated"}},"result":{"type":"string","description":"C&oacute;digo de resultado detallado con la informaci&oacute;n en caso de error"},"resultDescription":{"type":"string","description":"Descripci&oacute;n del resultado"},"sessionId":{"type":"string","description":"C&oacute;digo de sesi&oacute;n para ayudar al equipo de Picard encontrar alguna incidencia"},"transaction":{"description":"Toda la informaci&oacute;n de la transacci&oacute;n, si hay alguna","$ref":"#/definitions/TransactionResponse"},"validationErrors":{"type":"array","description":"Listado de errores si hay alg&uacute;n valor que no tiene un formato correcto","items":{"$ref":"#/definitions/ValidationError"}}}},"ScoringDataRequest":{"type":"object","required":["customerIpAddress","customerLanguageCode","encryptedCardDetails"],"properties":{"customerIpAddress":{"type":"string","description":"Direcci&oacute;n IP del cliente"},"customerLanguageCode":{"type":"string","description":"C&oacute;digo de idioma en ISO 639-1 que se utilizar&aacute; para devolver la descripci&oacute;n de los errores"},"encryptedCardDetails":{"type":"string","description":"Detalles de la tarjeta encriptados con el algoritmo RSA y la clave p&uacute;blica proporcionada por el equipo de Picard"}}},"ScoringDataResponse":{"type":"object","required":["card","debtSummary","ipAddressCountry"],"properties":{"card":{"description":"null","$ref":"#/definitions/CardResponse"},"debtSummary":{"description":"Datos de las operaciones con y sin fraudes realizadas con la tarjeta","$ref":"#/definitions/DebtSummaryResponse"},"ipAddressCountry":{"description":"Datos del pa&iacute;s de la direcci&oacute;n ip","$ref":"#/definitions/CountryResponse"}}},"StoredCardResponse":{"type":"object","required":["expiryDate","hash","maskedCardNumber"],"properties":{"alias":{"type":"string","description":"Texto para facilitar al cliente reconocer la tarjeta"},"cardholderName":{"type":"string","description":"Titular de la tarjeta"},"expiryDate":{"description":"Fecha de caducidad almacenada","$ref":"#/definitions/ExpiryDate"},"hash":{"type":"string","description":"C&oacute;digo &uacute;nico que identifica a la tarjeta almacenada"},"maskedCardNumber":{"type":"string","description":"Tarjeta de cr&eacute;dito enmascarada con el formato ######******####"}}},"StoredCustomerResponse":{"type":"object","required":["customerCode","manualInput","name","storedCards","type"],"properties":{"customerCode":{"type":"string","description":"C&oacute;digo de cliente al que se asociar&aacute; la tarjeta almacenada"},"manualInput":{"type":"boolean","example":false,"description":"Indica si el cliente almacenado debe permitir la introducci&oacute;n manual de tarjetas"},"name":{"type":"string","description":"Nombre del cliente almacenado"},"storedCards":{"type":"array","description":"Listado de tarjetas almacenadas","items":{"$ref":"#/definitions/StoredCardResponse"}},"type":{"type":"string","description":"Tipo de cliente almacenado","enum":["BUSINESS","FINAL"]}}},"TransactionResponse":{"type":"object","required":["agentCode","amount","cardDetails","centerCode","currencyCode","customerLanguageCode","date","gateway","gatewayResultCode","integrationCode","integrationTransactionCode","reference","societyCode","success","transactionType"],"properties":{"agentCode":{"type":"string","description":"En agencias donde un operador realiza la transacci&oacute;n, puede ser especificado su n&uacute;mero de personal para tracear incidencias"},"amount":{"type":"number","format":"double","description":"Importe de la transacci&oacute;n, en las devoluciones puede ser inferior al importe original"},"authorization":{"type":"string","description":"C&oacute;digo de autorizaci&oacute;n devuelto por la pasarela de pagos como resultado de la transacci&oacute;n"},"cardDetails":{"description":"Detalles de la tarjeta de cr&eacute;dito usada para realizar la transacci&oacute;n","$ref":"#/definitions/CardDetailsResponse"},"centerCode":{"type":"string","description":"C&oacute;digo de centro o agencia para identificar el lugar en el que se ha hecho la transacci&oacute;n, ser&aacute; proporcionado por el equipo de Tesorer&iacute;a"},"currencyCode":{"type":"string","description":"Divisa en la que se debe realizar el pago"},"customerCode":{"type":"string","description":"C&oacute;digo de cliente para usar con las tarjetas almacenadas"},"customerIpAddress":{"type":"string","description":"Direcci&oacute;n IP del cliente para prevenir fraude y revisi&oacute;n de incidencias"},"customerLanguageCode":{"type":"string","description":"C&oacute;digo de idioma en ISO 639-1 que se utilizar&aacute; para devolver la descripci&oacute;n de los errores"},"date":{"type":"string","description":"Fecha de la transacci&oacute;n en formato yyyy-MM-dd HH:mm:ss"},"enhancedData":{"type":"array","description":"Informaci&oacute;n adicional sobre el pagador o la reserva, por favor pregunte al equipo de Picard si debe rellenar esta informaci&oacute;n","items":{"$ref":"#/definitions/EnhancedData"}},"gateway":{"type":"string","description":"Pasarela de pagos que ha procesado la transacci&oacute;n","enum":["CONEXFLOW","GLOBAL_COLLECT","AMERICAN_EXPRESS","WIRECARD","PAYPAL","MAROC_TELECOMMERCE","REDSYS","PAYFLOW"]},"gatewayResultCode":{"type":"string","description":"C&oacute;digo de resultado devuelto por la pasarela de pagos con informaci&oacute;n detallada sobre la causa de los errores"},"gatewayTransactionCode":{"type":"string","description":"C&oacute;digo de transacci&oacute;n en la pasarela de pagos"},"installmentCode":{"type":"string","description":"C&oacute;digo de pago aplazado proporcionados por el equipo de Picard para dividir los pagos en mensualidades"},"integrationCode":{"type":"string","description":"C&oacute;digo de integraci&oacute;n proporcionado por el equipo de Tesorer&iacute;a"},"integrationTransactionCode":{"type":"string","description":"C&oacute;digo de transacci&oacute;n proporcionado por la integraci&oacute;n, debe ser &uacute;nico en cada pago finalizado, y se debe compartir con la devoluci&oacute;n"},"originalTransactionCode":{"type":"integer","format":"int32"},"picardTransactionCode":{"type":"integer","format":"int32","description":"C&oacute;digo de transacci&oacute;n en Picard, es &uacute;nico para cada transacci&oacute;n"},"reference":{"type":"string","description":"Referencia del pago, si no se proporciona, Picard puede generarla autom&aacute;ticamente, pero s&oacute;lo para integraciones que se han configurado de esta manera"},"societyCode":{"type":"string","description":"C&oacute;digo de sociedad en la que se ha realizado la transacci&oacute;n"},"success":{"type":"boolean","example":false,"description":"Devuelve TRUE si la transacci&oacute;n se ha completado, o FALSE si no"},"transactionType":{"type":"string","description":"Tipo de transacci&oacute;n para saber si se trata de un pago o una devoluci&oacute;n","enum":["PAYMENT","REFUND","VOID"]}}},"UpdateStoredCardRequest":{"type":"object","required":["encryptedCardDetails"],"properties":{"alias":{"type":"string","description":"Texto para facilitar al cliente reconocer la tarjeta"},"encryptedCardDetails":{"type":"string","description":"Detalles de la tarjeta encriptados en con el algoritmo RSA y la clave p&uacute;blica proporcionada por el equipo de Picard"}}},"UpdateStoredCustomerRequest":{"type":"object","required":["manualInput","name","type"],"properties":{"manualInput":{"type":"boolean","example":false,"description":"Indica si el cliente almacenado debe permitir la introducci&oacute;n manual de tarjetas"},"name":{"type":"string","description":"Nombre del cliente almacenado"},"type":{"type":"string","description":"Tipo de cliente almacenado","enum":["BUSINESS","FINAL"]}}},"ValidationError":{"type":"object","properties":{"field":{"type":"string"},"reason":{"type":"string"}}}}}